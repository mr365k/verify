(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{464:function(e,t,r){"use strict";r.r(t);var n=r(24),o=(r(85),r(0)),c=r(318),l=r.n(c),v=o.a.extend({data:function(){return{step:1,user:{},userName:"",accessToken:"",tokenSecret:"",signature:"",publicKey:"",error:null}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("/api/getConnectedWallet");case 3:(r=t.sent).data&&r.data.publicKey&&r.data.signature&&(console.log("wallet is connected ".concat(r.data.publicKey)),e.publicKey=r.data.publicKey,e.signature=r.data.signature),t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),console.log("user is not logged in",t.t0),e.step=4,t.abrupt("return");case 12:return t.prev=12,t.next=15,l.a.get("/api/twitter/callback",{params:e.$route.query});case 15:n=t.sent,e.user=n.data.user,e.userName=e.user.username,e.accessToken=e.user.access_token,e.tokenSecret=e.user.token_secret,e.step=2,t.next=28;break;case 23:return t.prev=23,t.t1=t.catch(12),e.error=t.t1,e.step=3,t.abrupt("return");case 28:return t.prev=28,t.next=31,l.a.post("/api/updateProject",{publicKey:e.publicKey,signature:e.signature,twitterUsername:e.userName,twitterAccessToken:e.accessToken,twitterTokenSecret:e.tokenSecret});case 31:o=t.sent,console.log("saved twitter connection status: ".concat(o.status," ")),200==o.status&&(e.step=2),t.next=42;break;case 36:return t.prev=36,t.t2=t.catch(28),console.log(t.t2),e.error=t.t2,e.step=3,t.abrupt("return");case 42:case"end":return t.stop()}}),t,null,[[0,7],[12,23],[28,36]])})))()}}),d=r(46),component=Object(d.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticClass:"block text-gray-700 text-2xl font-bold mb-2"},[e._v("Connecting Twitter")]),e._v(" "),1===e.step?r("div",{staticClass:"block text-gray-700 text-sm mx-auto"},[r("img",{staticClass:"mx-auto",attrs:{src:"/loading.gif"}})]):e._e(),e._v(" "),2===e.step?r("div",{staticClass:"block text-gray-700 text-sm mx-auto"},[e._v("\n        âœ… Successfully connected @"+e._s(e.userName)+"!\n        "),r("br"),e._v(" "),r("br"),e._v(" "),r("a",{staticClass:"hyperlink",attrs:{href:"/manage"}},[e._v("Back to project")])]):e._e(),e._v(" "),3===e.step?r("div",{staticClass:"block text-gray-700 text-sm mx-auto"},[e._v("\n        "+e._s(e.error)+"\n    ")]):e._e(),e._v(" "),4===e.step?r("div",{staticClass:"block text-gray-700 text-sm"},[e._v("\n        We're having trouble connecting to your wallet. The currently supported wallet configuration is "),r("a",{staticClass:"hyperlink",attrs:{href:"https://phantom.app/"}},[e._v("Phantom")]),e._v(" with browser extension on a desktop or laptop device. Mobile support coming soon, and we are working to add support for additional wallet vendors!\n        "),r("br"),e._v(" "),r("br"),e._v("\n        Please ensure Phantom is available on your device and try again.\n    ")]):e._e(),e._v(" "),5===e.step?r("div",{staticClass:"block text-gray-700 text-sm"},[e._v("\n        Please sign the message to verify that you're the owner of your wallet. We will connect your Twitter account to the project associated with your wallet.\n        "),r("br"),e._v(" "),r("br"),e._v("\n        Review the message before signing and make sure that nothing else is requested except signature.\n    ")]):e._e()])}),[],!1,null,null,null);t.default=component.exports}}]);