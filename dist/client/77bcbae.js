(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{323:function(t,e,n){n(324)},324:function(t,e,n){"use strict";var r=n(5),o=n(1),c=n(21),l=n(4),d=n(33),v=n(11),h=n(126),f=n(18),m=n(67),x=n(127),_=n(221),y=n(9),k=n(44),w=y("replace"),C=RegExp.prototype,j=o.TypeError,O=l(x),S=l("".indexOf),P=l("".replace),D=l("".slice),z=Math.max,T=function(t,e,n){return n>t.length?-1:""===e?n:S(t,e,n)};r({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,o,l,x,y,N,A,E,L=d(this),$=0,W=0,F="";if(null!=t){if((n=h(t))&&(r=f(d("flags"in C?t.flags:O(t))),!~S(r,"g")))throw j("`.replaceAll` does not allow non-global regexes");if(o=m(t,w))return c(o,t,L,e);if(k&&n)return P(f(L),t,e)}for(l=f(L),x=f(t),(y=v(e))||(e=f(e)),N=x.length,A=z(1,N),$=T(l,x,0);-1!==$;)E=y?f(e(x,$,l)):_(x,l,$,[],void 0,e),F+=D(l,W,$)+E,W=$+N,$=T(l,x,$+A);return W<l.length&&(F+=D(l,W)),F}})},350:function(t,e){},351:function(t,e){},352:function(t,e){},357:function(t,e){},360:function(t,e){},455:function(t,e,n){var content=n(456);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(32).default)("08defec7",content,!0,{sourceMap:!1})},456:function(t,e,n){var r=n(31)((function(i){return i[1]}));r.push([t.i,'/*purgecss start ignore*/\n\n.theme--light.v-icon{\n  color:rgba(0,0,0,.54)\n}\n\n.theme--light.v-icon:focus:after{\n  opacity:.12\n}\n\n.theme--light.v-icon.v-icon.v-icon--disabled{\n  color:rgba(0,0,0,.38)!important\n}\n\n.theme--dark.v-icon{\n  color:#fff\n}\n\n.theme--dark.v-icon:focus:after{\n  opacity:.24\n}\n\n.theme--dark.v-icon.v-icon.v-icon--disabled{\n  color:hsla(0,0%,100%,.5)!important\n}\n\n.v-icon.v-icon{\n  align-items:center;\n  display:inline-flex;\n  font-feature-settings:"liga";\n  font-size:24px;\n  justify-content:center;\n  letter-spacing:normal;\n  line-height:1;\n  position:relative;\n  text-indent:0;\n  transition:.3s cubic-bezier(.25,.8,.5,1),visibility 0s;\n  vertical-align:middle;\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none\n}\n\n.v-icon.v-icon:after{\n  background-color:currentColor;\n  border-radius:50%;\n  content:"";\n  display:inline-block;\n  height:100%;\n  left:0;\n  opacity:0;\n  pointer-events:none;\n  position:absolute;\n  top:0;\n  transform:scale(1.3);\n  width:100%;\n  transition:opacity .2s cubic-bezier(.4,0,.6,1)\n}\n\n.v-icon.v-icon--dense{\n  font-size:20px\n}\n\n.v-icon--right{\n  margin-left:8px\n}\n\n.v-icon--left{\n  margin-right:8px\n}\n\n.v-icon.v-icon.v-icon--link{\n  cursor:pointer;\n  outline:none\n}\n\n.v-icon--disabled{\n  pointer-events:none\n}\n\n.v-icon--dense .v-icon__component,.v-icon--dense .v-icon__svg{\n  height:20px\n}\n\n.v-icon__component,.v-icon__svg{\n  height:24px;\n  width:24px\n}\n\n.v-icon__svg{\n  fill:currentColor\n}\n\n/*purgecss end ignore*/',""]),r.locals={},t.exports=r},461:function(t,e,n){"use strict";n.r(e);n(25),n(17),n(27),n(29),n(20),n(30);var r=n(7),o=n(10),c=n(24),l=(n(85),n(26),n(54),n(323),n(8),n(49),n(56),n(43),n(76),n(74),n(75),n(0)),d=n(318),v=n.n(d),h=n(370);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x,_=n(365).binary_to_base58,y=l.a.extend({data:function(){return{discordUsername:"",step:1,discordAvatar:"",projectName:"",projectConfig:{}}},mounted:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.projectName=t.$route.path.replaceAll("/",""),e.prev=1,e.next=4,v.a.get("/api/getProject?project="+t.projectName);case 4:t.projectConfig=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:if(t.projectConfig){e.next=13;break}return t.step=8,e.abrupt("return");case 13:return(n=t.$route.hash.split("&").map((function(t){return t.split("=")})).reduce((function(pre,t){var e=Object(o.a)(t,2),n=e[0],c=e[1];return m(m({},pre),{},Object(r.a)({},n,c))}),{})).access_token||(c="https://discord.com/api/oauth2/authorize?client_id=".concat(t.projectConfig.data.discord_client_id,"&redirect_uri=").concat(t.projectConfig.data.discord_redirect_url,"&response_type=token&scope=identify"),window.location.href=c),l={data:{username:"",discriminator:"",id:"",avatar:""}},e.prev=16,e.next=19,v.a.get("https://discord.com/api/users/@me",{headers:{Authorization:"Bearer ".concat(n.access_token)}});case 19:l=e.sent,e.next=26;break;case 22:return e.prev=22,e.t1=e.catch(16),console.log(e.t1),e.abrupt("return");case 26:t.step=2,t.discordUsername="".concat(l.data.username,"#").concat(l.data.discriminator),t.discordAvatar="https://cdn.discordapp.com/avatars/".concat(l.data.id,"/").concat(l.data.avatar,".png"),t.step=3;case 30:case"end":return e.stop()}}),e,null,[[1,7],[16,22]])})))()},methods:{connectWallet:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,o,c,l,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="phantom"==t?window.solana:new h.a,n.prev=1,n.next=4,r.connect();case 4:n.next=11;break;case 6:return n.prev=6,n.t0=n.catch(1),console.log(n.t0),e.step=10,n.abrupt("return");case 11:if(e.step=4,n.prev=12,e.projectConfig){n.next=15;break}return n.abrupt("return");case 15:return o=e.projectConfig.data.message,c=(new TextEncoder).encode(o),n.next=19,r.signMessage(c,"utf8");case 19:return l=n.sent,n.prev=20,e.step=12,n.next=24,v.a.post("/api/logHodlers",{projectName:e.projectName,discordName:e.discordUsername,signature:_(l.signature?l.signature:l),publicKey:r.publicKey.toString()});case 24:d=n.sent,console.log("validated roled status ".concat(d.status," with roles ").concat(JSON.stringify(d.data))),200==d.status?e.step=5:500==d.status&&(e.step=7),n.next=33;break;case 29:n.prev=29,n.t1=n.catch(20),console.log(n.t1.toString()),n.t1.toString().includes("status code 403")?e.step=9:n.t1.toString().includes("status code 401")?e.step=6:n.t1.toString().includes("status code 404")?e.step=11:(console.log("API ERROR",n.t1),e.step=7);case 33:n.next=39;break;case 35:n.prev=35,n.t2=n.catch(12),console.log(n.t2),e.step=10;case 39:case"end":return n.stop()}}),n,null,[[1,6],[12,35],[20,29]])})))()}}}),k=n(46),w=n(120),C=n.n(w),j=n(466),O=n(369),S=n(316),P=n(460),D=(n(368),n(53),n(101),n(222),n(48),n(455),n(206)),z=n(153),T=n(367),N=n(77),A=n(3),E=n(38);function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function $(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}!function(t){t.xSmall="12px",t.small="16px",t.default="24px",t.medium="28px",t.large="36px",t.xLarge="40px"}(x||(x={}));var W=Object(E.a)(D.a,z.a,T.a,N.a).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium:function(){return!1},hasClickListener:function(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon:function(){var t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),Object(A.s)(this,t)},getSize:function(){var t={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},e=Object(A.p)(t).find((function(e){return t[e]}));return e&&x[e]||Object(A.g)(this.size)},getDefaultData:function(){return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:$({"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0},this.attrs$),on:this.listeners$}},getSvgWrapperData:function(){var t=this.getSize(),e=$($({},this.getDefaultData()),{},{style:t?{fontSize:t,height:t,width:t}:void 0});return this.applyColors(e),e},applyColors:function(data){data.class=$($({},data.class),this.themeClasses),this.setTextColor(this.color,data)},renderFontIcon:function(t,e){var n=[],data=this.getDefaultData(),r="material-icons",o=t.indexOf("-"),c=o<=-1;c?n.push(t):function(t){return["fas","far","fal","fab","fad","fak"].some((function(e){return t.includes(e)}))}(r=t.slice(0,o))&&(r=""),data.class[r]=!0,data.class[t]=!c;var l=this.getSize();return l&&(data.style={fontSize:l}),this.applyColors(data),e(this.hasClickListener?"button":this.tag,data,n)},renderSvgIcon:function(t,e){var n={class:"v-icon__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":!0}},r=this.getSize();return r&&(n.style={fontSize:r,height:r,width:r}),e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e("svg",n,[e("path",{attrs:{d:t}})])])},renderSvgIconComponent:function(t,e){var data={class:{"v-icon__component":!0}},n=this.getSize();n&&(data.style={fontSize:n,height:n,width:n}),this.applyColors(data);var component=t.component;return data.props=t.props,data.nativeOn=data.on,e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e(component,data)])}},render:function(t){var e=this.getIcon();return"string"==typeof e?function(t){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4}(e)?this.renderSvgIcon(e,t):this.renderFontIcon(e,t):this.renderSvgIconComponent(e,t)}}),F=l.a.extend({name:"v-icon",$_wrapperFor:W,functional:!0,render:function(t,e){var data=e.data,n=e.children,r="";return data.domProps&&(r=data.domProps.textContent||data.domProps.innerHTML||r,delete data.domProps.textContent,delete data.domProps.innerHTML),t(W,data,r?[r]:n)}}),component=Object(k.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[1===t.step?n("div",{staticClass:"block text-gray-700 text-sm mx-auto"},[n("img",{staticClass:"mx-auto",attrs:{src:"/loading.gif"}})]):t._e(),t._v(" "),2===t.step?n("div",{staticClass:"block text-gray-700 text-sm mx-auto"},[n("img",{staticClass:"mx-auto",attrs:{src:"/loading.gif"}})]):t._e(),t._v(" "),t.step>2?n("div",{staticClass:"block text-gray-700 text-sm mb-3"},[""!==t.discordAvatar?n("img",{staticClass:"rounded-full border-4 border-white w-20 my-0 mx-auto mb-4",attrs:{alt:"Discord profile pic",src:t.discordAvatar}}):t._e(),t._v(" "),n("h2",{staticClass:"block text-gray-700 text-3xl font-bold mb-2"},[t._v(t._s(t.discordUsername))])]):t._e(),t._v(" "),3===t.step?n("div",{staticClass:"block text-gray-700 text-sm mx-auto"},[n("div",{staticClass:"block text-gray-700 text-sm mb-5"},[n("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"primary",dark:""}},"v-btn",o,!1),r),[t._v("\n              Connect Wallet\n            ")])]}}],null,!1,2297694299),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),n("v-card",[n("v-card-title",{staticClass:"text-h5"},[t._v("\n              Choose a Wallet\n            ")]),t._v(" "),n("v-card-text",[t._v("The wallet will inspected to verify the project's NFT requirements.")]),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.connectWallet("phantom")}}},[t._v("Phantom")]),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.connectWallet("solflare")}}},[t._v("Solflare")])],1)],1)],1)],1)]):t._e(),t._v(" "),4===t.step?n("div",{staticClass:"block text-gray-700 text-sm"},[t._v("\n      Please sign the message to verify that you're the owner of your wallet. We are about to make sure it holds the required tokens for your Discord validation.\n      "),n("br"),t._v(" "),n("br"),t._v("\n      Review the message before signing and make sure that nothing else is requested except signature.\n    ")]):t._e(),t._v(" "),12===t.step?n("div",{staticClass:"block text-gray-700 text-sm mx-auto"},[n("img",{staticClass:"mx-auto",attrs:{src:"/loading.gif"}})]):t._e(),t._v(" "),5===t.step?n("div",{staticClass:"block text-gray-700 text-sm"},[n("v-icon",[t._v("mdi-check-decagram")]),t._v(" You're verified! You can close this window now and flex your new discord power.\n    ")],1):t._e(),t._v(" "),6===t.step?n("div",{staticClass:"block text-gray-700 text-sm"},[t._v("\n      Unfortunately your wallet doesn't have the tokens required for validation.\n    ")]):t._e(),t._v(" "),7===t.step?n("div",{staticClass:"block text-gray-700 text-sm"},[t._v("\n      There is currently a problem communicating with the Discord API. Try again later.\n    ")]):t._e(),t._v(" "),8===t.step?n("div",{staticClass:"block text-gray-700 text-sm"},[t._v("\n      Project not found.\n    ")]):t._e(),t._v(" "),9===t.step?n("div",{staticClass:"block text-gray-700 text-sm"},[t._v("\n      Exceeded number of free verifications. Ask your project owner to get one of our NFTs to unlock unlimited verifications.\n    ")]):t._e(),t._v(" "),10===t.step?n("div",{staticClass:"block text-gray-700 text-sm"},[t._v("\n      We're having trouble connecting to your wallet. The currently supported wallet configurations are "),n("a",{staticClass:"hyperlink",attrs:{href:"https://phantom.app"}},[t._v("Phantom")]),t._v(" and "),n("a",{staticClass:"hyperlink",attrs:{href:"https://solflare.com"}},[t._v("Solflare")]),t._v(" browser extensions on a desktop or laptop device. Mobile support coming soon, and we are working to add support for additional wallet vendors!\n      "),n("br"),t._v(" "),n("br"),t._v("\n      Please ensure Phantom is available on your device and try again.\n    ")]):t._e(),t._v(" "),11===t.step?n("div",{staticClass:"block text-gray-700 text-sm"},[t._v("\n      We're having trouble finding you on this Discord server. Make sure you've joined the server and verify your role again.\n    ")]):t._e(),t._v(" "),t.step>2?n("div",{staticClass:"block text-gray-700 text-sm mt-10"},[n("h2",{staticClass:"block text-gray-700 text-xl font-bold mb-1"},[t._v("What is NFT 4 Cause?")]),t._v(" "),t._m(0),t._v(" "),n("h2",{staticClass:"block text-gray-700 text-lg font-bold mb-1"},[t._v("Join the #CryptoForGood conversation")]),t._v(" "),t._m(1)]):t._e()])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block text-gray-700 text-sm mb-5"},[t._v("\n      At "),n("a",{staticClass:"hyperlink",attrs:{href:"http://www.nft4cause.app"}},[t._v("NFT 4 Cause")]),t._v(" we create socially relevant NFTs and "),n("b",[t._v("donate 80% of the proceeds to global nonprofits")]),t._v(" chosen by our holders! Everything else funds the development of free tools like this to enhance the Solana community.\n      ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n      Connect with us "),n("a",{attrs:{href:"https://www.twitter.com/NFT4Cause"}},[t._v("@NFT4Cause")])])}],!1,null,null,null);e.default=component.exports;C()(component,{VBtn:j.a,VCard:O.a,VCardActions:S.a,VCardText:S.b,VCardTitle:S.c,VDialog:P.a,VIcon:F})}}]);